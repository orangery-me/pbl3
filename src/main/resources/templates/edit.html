<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="initial-scale=1, width=device-width" />

    <link rel="stylesheet" href="/css/global.css" />
    <link rel="stylesheet" href="/css/index.css" />
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Roboto:wght@500&display=swap" />
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Inter:wght@400;700&display=swap" />
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Font Awesome 5 Free:wght@400&display=swap" />
</head>

<body>
    <div class="sa-thng-tin">
        <div class="rectangle-parent">
            <div class="group-child"></div>
            <div class="ng-xut">Đăng xuất</div>
            <div class="tr-gip">Trợ giúp</div>
            <div class="sc-khe-ca">Sức khỏe của tôi</div>
            <img class="group-item" alt="" src="./public/rectangle-5@2x.png" />

            <img class="group-inner" alt="" src="./public/rectangle-6@2x.png" />

            <img class="rectangle-icon" alt="" src="./public/rectangle-4@2x.png" />

            <img class="group-child1" alt="" src="./public/rectangle-3@2x.png" />

            <img class="group-child2" alt="" src="./public/rectangle-2@2x.png" />

            <div class="h-s-ca">Hồ sơ của tôi</div>
            <div class="lch-s-t">Lịch sử đặt lịch</div>
        </div>
        <div class="rectangle-group" id = "form-2">
            <div class="form-group">
                <img class="sa-thng-tin-child" alt="" src="./public/ellipse-1@2x.png" />
                <input id="username" name="username" type="text" placeholder="Tên đăng nhập" class="form-control"
                    autocomplete="off">
            </div>

            <div class="form-group">
                <label for="fullname" class="form-label1">Họ và tên</label>
                <input id="fullname" name="fullname" type="text" placeholder="Họ và tên" class="form-control"
                    autocomplete="off">
            </div>

            <div class="form-group">
                <label for="address" class="form-label1">Địa chỉ</label>
                <input id="address" name="address" type="text" placeholder="Địa chỉ" class="form-control"
                    autocomplete="off">
            </div>
            <div class="form-group">
                <label for="email" class="form-label1">Email</label>
                <input id="email" name="email" type="text" placeholder="name@gmail.com" class="form-control"
                    autocomplete="off">
            </div>
            <div class="form-group">
                <label for="SDT" class="form-label1">Số điện thoại</label>
                <input id="Sdt" name="Sdt" type="text" placeholder="So dien thoai" class="form-control"
                    autocomplete="off">
            </div>
            <div class="cover">
                <div class="form-group check">
                    <label for="Gender" class="form-label1">Giới tính</label>
                    <div class="checkbox">
                        <div class="radio">
                            <input name="gender" type="radio" value="1" class="form-control btn-radio">
                            <i class="fa-solid fa-square-check"></i>
                            <span>Nam</span>
                        </div>
                        <div class="radio">
                            <input name="gender" type="radio" value="0" class="form-control btn-radio">
                            <i class="fa-solid fa-square-check"></i>
                            <span>Nữ</span>
                        </div>
                    </div>
                    <span class="form-message"></span>
                </div>

                <div class="form-group birth">
                    <label for="birth" class="form-label1">Năm sinh</label>
                    <input id="birthday" name="password" type="date" placeholder="" class="form-control">
                    <span class="form-message"></span>
                </div>
            </div>

            <div class="form-group">
                <label for="pasword" class="form-label1">Mật khẩu</label>
                <input id="password" name="password" type="password" placeholder="Mật khẩu" class="form-control"
                    autocomplete="off">
            </div>
            <button class="form-submit" id="luu">Lưu</button>
            <button class="form-submit" id="huy">Hủy bỏ thay đổi</button>
        </div>

        <div class="footer-component">
            <img class="footer-component-child" alt="" src="./public/rectangle-9.svg" />

            <b class="phng-khm-a-container">
                <p class="phng-khm-a">©Phòng Khám Đa Khoa GudMec.</p>
                <p class="phng-khm-a">
                    Tất cả những thông tin trên chỉ mang tính chất tham khảo, bệnh nhân
                    phải đến trực tiếp bệnh viện khám để bác sĩ chẩn đoán và điều trị.
                </p>
            </b>
            <div class="group-parent">
                <div class="sdt-02353921656-parent">
                    <b class="sdt-02353921656">SDT: 02353921656</b>
                    <img class="icon-cellphone" alt="" src="./public/-icon-cellphone.svg" />
                </div>
                <div class="vector-parent">
                    <img class="line-icon" alt="" src="./public/line-8.svg" />

                    <b class="lin-h">Liên hệ</b>
                </div>
                <div class="sdt-2-1900868630-parent">
                    <b class="sdt-2-1900868630">SDT 2: 1900868630</b>
                    <img class="icon-phone" alt="" src="./public/-icon-phone.svg" />
                </div>
                <div class="email-contactmsgdkhamatsaig-parent">
                    <b class="email-contactmsgdkhamatsaig">Email: contact.msgdkha@matsaigon.com</b>
                    <img class="icon-envelope-closed" alt="" src="./public/-icon-envelope-closed.svg" />
                </div>
            </div>
            <div class="group-container">
                <div class="heading-1margin-parent">
                    <div class="heading-1margin">
                        <b class="heading-1"> GudMec</b>
                    </div>
                    <div class="heading-1margin1">
                        <b class="heading-11">Clinic</b>
                    </div>
                </div>
                <img class="standard-collection-23" alt="" src="./public/standard-collection-23@2x.png" />
            </div>
        </div>
        <div class="header-component">
            <div class="group-div">
                <div class="heading-1margin-group">
                    <div class="heading-1margin2">
                        <b class="heading-1"> GudMec</b>
                    </div>
                    <div class="heading-1margin3">
                        <b class="heading-11">Clinic</b>
                    </div>
                </div>
                <img class="standard-collection-231" alt="" src="./public/standard-collection-23@2x.png" />
            </div>
            <div class="divcontainer">
                <div class="link-gii">GIỚI THIỆU</div>
                <div class="link-chuyn">CHUYÊN KHOA</div>
                <div class="link-i">ĐỘI NGŨ BÁC SĨ</div>
                <div class="link-dch">DỊCH VỤ</div>
                <div class="link-thnh">THÀNH TỰU</div>
                <div class="link-tin">TIN TỨC</div>
                <div class="link-lin">LIÊN HỆ</div>
                <div class="link-me">TÔI</div>
                <div class="divcontainer-child"></div>
                <div class="t-lch-ngay">ĐẶT LỊCH NGAY</div>
                <div class="divline"></div>
                <div class="symbol" id="symbolText"></div>
            </div>
        </div>
    </div>
    <!-- chú ý chỗ này dùng để kết nối các liên kết giữa các trang -->
    <script>
        var symbolText = document.getElementById("symbolText");
        if (symbolText) {
            symbolText.addEventListener("click", function () {
                window.open("http://localhost:8080/");
            });
        }
    </script>
    <script>
        var symbolText = document.getElementById("luu");
        if (symbolText) {
            symbolText.addEventListener("click", function () {
                document.getElementById("form-2").addEventListener("submit", function (event) {
    event.preventDefault(); // Prevent default form submission
  
    // Fetch the input values
    var u = document.getElementById("username").value;
    var m = document.getElementById("fullname").value;
    var  e = document.getElementById("email").value;
    var p = document.getElementById("password").value;
    var  c = document.getElementById("birthday").value;
    var sdt = document.getElementById("sdt").value ;

    fetch("http://localhost:8080/edit", {
        method: 'POST',
        headers: {
            "Content-Type": "application/json"
        },
        body: JSON.stringify({
            username: u,
            fullname: m,
            email: e,
            birthday: c,
            password: p,
            telephone: sdt
        })
    })
        .then(response => {
            if (!response.ok) {
                alert("Update information no successful!");
                throw new Error("Failed to authenticate");
            }
            return response.json();
        })
        .then(data => {
            alert("Update information successful!");
            window.location.href = "http://localhost:8080/home";
            console.log("Authentication successful:", data);
        })
        .catch(error => {
            alert("Please try again later!");
            console.error("Authentication error:", error.message);
    });
  });
            });
        }
    </script>
     <script>
        var symbolText = document.getElementById("huy");
        if (symbolText) {
            symbolText.addEventListener("click", function () {
                location.reload();
            });
        }
    </script>
     <!-- <script src="/js/edit_info.js"></script> -->
</body>

</html>